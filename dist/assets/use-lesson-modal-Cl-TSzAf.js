import{an as d,ac as f,r as p,at as n}from"./index-DN_LE4ff.js";import{l as r}from"./lessons-B_wNNqRB.js";const s={title:"",type:"",url:""};function E(u){const[c]=d();s.subjectId=c.get("programId")??void 0;const l=f({mutationFn:o=>(console.log("mutationFn",o),o.id!==void 0?r.update(o.id,o.data):r.create(o.data)),onSuccess:()=>{console.log("onSuccess"),t(o=>({...o,show:!1,okDisabled:!1})),u()},onError(o,e,a){console.log("onError",o,e,a),t(m=>({...m,okDisabled:!1}))}}),[i,t]=p.useState({formValue:{...s},title:n("common.create"),show:!1,okDisabled:!1,onOk:(o,e)=>{console.log("onOk",o,e),l.mutate({id:o,data:e}),t(a=>({...a,okDisabled:!0}))},onCancel:()=>{t(o=>({...o,show:!1}))}});return{modalProps:i,setModalProps:t,onCreate:o=>{t(e=>({...e,show:!0,...s,title:n("common.create"),formValue:{...s,parentId:(o==null?void 0:o.id)??""}}))},onEdit:o=>{t(e=>({...e,show:!0,title:n("common.edit"),formValue:o}))},mutation:l}}export{E as useLessonModal};
