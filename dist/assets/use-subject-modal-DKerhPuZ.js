import{ac as m,r as d,at as s}from"./index-DN_LE4ff.js";import{s as l}from"./subjects-CNueMXU8.js";const n={name:"",description:""};function w(i){const r=m({mutationFn:t=>t.id!==void 0?l.update(t.id,t.data):l.create(t.data),onSuccess:()=>{e(t=>({...t,show:!1,okDisabled:!1})),i()},onError(t,o,a){console.log("onError",t,o,a),e(c=>({...c,okDisabled:!1}))}}),[u,e]=d.useState({formValue:{...n},title:s("common.create"),show:!1,okDisabled:!1,onOk:(t,o)=>{r.mutate({id:t,data:o}),e(a=>({...a,okDisabled:!0}))},onCancel:()=>{e(t=>({...t,show:!1}))}});return{modalProps:u,setModalProps:e,onCreate:t=>{e(o=>({...o,show:!0,...n,title:s("common.create"),formValue:{...n,parentId:(t==null?void 0:t.id)??""}}))},onEdit:t=>{e(o=>({...o,show:!0,title:s("common.edit"),formValue:t}))},mutation:r}}export{w as useSubjectModal};
