import{aa as l,r as b,b as f,j as e,at as s,aw as y,ag as i}from"./index-DN_LE4ff.js";import{s as v}from"./subjects-CNueMXU8.js";import{S as p}from"./index-DzWKCnLv.js";function w({title:u,show:c,formValue:t,okDisabled:d,onOk:m,onCancel:j}){const[r]=l.useForm();b.useEffect(()=>{r.setFieldsValue({...t})},[t,r]);const{data:a}=f({queryKey:["subjects"],queryFn:()=>v.get({}),refetchOnWindowFocus:!1}),h=a==null?void 0:a.items.map(({id:o,name:n})=>({value:o,label:e.jsx("span",{children:n})})),x=[{value:"video",label:e.jsx("span",{children:s("app.lessons.types.video")})},{value:"pdf",label:e.jsx("span",{children:s("app.lessons.types.pdf")})},{value:"other",label:e.jsx("span",{children:s("app.lessons.types.other")})}];return e.jsxs(y,{forceRender:!0,title:u,open:c,okButtonProps:{autoFocus:!0,htmlType:"submit",disabled:d},okText:t.id===void 0?s("common.create"):s("common.edit"),cancelText:s("common.cancel"),onCancel:j,modalRender:o=>e.jsx(l,{form:r,initialValues:t,onFinish:n=>m(t.id,n),labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",children:o}),children:[!t.id&&e.jsx(l.Item,{label:s("app.fields.subject"),name:"subjectId",rules:[{required:!0}],children:e.jsx(p,{showSearch:!0,options:h})}),e.jsx(l.Item,{label:s("app.fields.title"),name:"title",rules:[{required:!0}],children:e.jsx(i,{})}),e.jsx(l.Item,{label:s("app.fields.file type"),name:"type",rules:[{required:!0}],children:e.jsx(p,{showSearch:!0,options:x})}),e.jsx(l.Item,{label:s("app.fields.url"),name:"url",rules:[{required:!0},{type:"url"}],children:e.jsx(i,{})})]})}export{w as default};
