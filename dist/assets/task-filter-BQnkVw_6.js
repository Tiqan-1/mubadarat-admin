import{aa as n,r as h,b as u,j as e,ae as C,af as m,at as t,S as I,B as x}from"./index-XWZJOGTG.js";import{a as w}from"./levels-zSI_kG3w.js";import{p as q}from"./programs-zQla2BAp.js";import{C as E}from"./index-Ddyc13Qi.js";import{S as j}from"./index-DCIFzzg3.js";function P({formValue:o,okDisabled:f,onSearch:g,onClear:y}){var p;const[a]=n.useForm(),[d,F]=h.useState(void 0),{data:i}=u({queryKey:["levels",d],queryFn:()=>w.get({programId:d}),refetchOnWindowFocus:!1}),b=u({queryKey:["programs"],queryFn:()=>q.get(),refetchOnWindowFocus:!1}),r=i==null?void 0:i.items.map(({id:s,name:c})=>({value:s,label:e.jsx("span",{children:c})}));r==null||r.unshift({value:"",label:e.jsx("span",{children:""})}),h.useEffect(()=>{a.setFieldsValue({...o})},[o,a]);const v=()=>{a.resetFields(),y()},l=(p=b.data)==null?void 0:p.items.map(({id:s,name:c})=>({value:s,label:e.jsx("span",{children:c})}));l==null||l.unshift({value:"",label:e.jsx("span",{children:""})});const S=s=>{F(s)};return e.jsx(E,{children:e.jsx(n,{form:a,onFinish:g,disabled:f,initialValues:{...o},children:e.jsxs(C,{gutter:[16,16],children:[e.jsx(m,{span:24,lg:6,children:e.jsx(n.Item,{label:t("app.fields.program"),name:"programId",children:e.jsx(j,{showSearch:!0,options:l,onChange:S})})}),e.jsx(m,{span:24,lg:6,children:e.jsx(n.Item,{label:t("app.fields.level"),name:"levelId",className:"!mb-0",children:e.jsx(j,{showSearch:!0,options:r})})}),e.jsx(m,{span:24,lg:12,children:e.jsx("div",{className:"flex justify-end",children:e.jsxs(I,{children:[e.jsx(x,{onClick:v,children:t("common.reset")}),e.jsx(x,{type:"primary",htmlType:"submit",className:"ml-4",children:t("common.search")})]})})})]})})})}export{P as default};
