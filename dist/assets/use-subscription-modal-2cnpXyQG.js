import{aj as a,ak as l,ac as m,r as b,at as i}from"./index-XWZJOGTG.js";const f=o=>a.get({url:"/subscriptions/v2",params:o,headers:{"ngrok-skip-browser-warning":"true"}}),g=o=>a.post({url:"/subscriptions",data:o}),k=o=>a.get({url:l("/subscriptions/:id",{id:o})}),w=(o,n)=>a.put({url:l("/subscriptions/:id",{id:o}),data:n}),h=o=>a.delete({url:l("/subscriptions/:id",{id:o})}),c={get:f,show:k,create:g,update:w,destroy:h},u={state:"",notes:""};function S(o){const n=m({mutationFn:t=>t.id!==void 0?c.update(t.id,t.data):c.create(t.data),onSuccess:()=>{e(t=>({...t,show:!1,okDisabled:!1})),o()},onError(t,s,r){console.log("onError",t,s,r),e(p=>({...p,okDisabled:!1}))}}),[d,e]=b.useState({formValue:{...u},title:i("common.create"),show:!1,okDisabled:!1,onOk:(t,s)=>{n.mutate({id:t,data:s}),e(r=>({...r,okDisabled:!0}))},onCancel:()=>{e(t=>({...t,show:!1}))}});return{modalProps:d,setModalProps:e,onCreate:t=>{e(s=>({...s,show:!0,...u,title:i("common.create"),formValue:{...u,parentId:(t==null?void 0:t.id)??""}}))},onEdit:t=>{e(s=>({...s,show:!0,title:i("common.edit"),formValue:t}))},mutation:n}}const C=Object.freeze(Object.defineProperty({__proto__:null,useSubscriptionModal:S},Symbol.toStringTag,{value:"Module"}));export{c as a,C as b,S as u};
