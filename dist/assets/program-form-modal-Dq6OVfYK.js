import{aa as a,r as u,j as e,at as s,aw as S,ag as c}from"./index-DN_LE4ff.js";import{d as x}from"./dayjs.min-B92MZlCX.js";import{S as h}from"./index-DzWKCnLv.js";import{D as p}from"./index-KTjjIOW4.js";function R({title:j,show:b,forUpload:l,formValue:r,okDisabled:g,onOk:m,onCancel:f}){const[d]=a.useForm(),o=u.useRef(null);u.useEffect(()=>{l||d.setFieldsValue({...r})},[l,r,d]);const i={getValueProps:t=>({value:t&&x(t)}),normalize:t=>t&&`${x(t).toISOString()}`},y=[{value:"created",label:e.jsx("span",{children:s("app.programs.statuses.created")})},{value:"published",label:e.jsx("span",{children:s("app.programs.statuses.published")})},{value:"suspended",label:e.jsx("span",{children:s("app.programs.statuses.suspended")})},{value:"cancelled",label:e.jsx("span",{children:s("app.programs.statuses.cancelled")})},{value:"deleted",label:e.jsx("span",{children:s("app.programs.statuses.deleted")})}],v=[{value:"public",label:e.jsx("span",{children:s("app.programs.types.public")})},{value:"approval",label:e.jsx("span",{children:s("app.programs.types.approval")})}];return e.jsx(S,{forceRender:!0,title:j,open:b,okButtonProps:{autoFocus:!0,htmlType:"submit",disabled:g},okText:r.id===void 0?s("common.create"):s("common.edit"),onOk:l?(()=>{var t,n;if(((t=o.current)==null?void 0:t.files)!==null){const I={thumbnail:((n=o.current)==null?void 0:n.files[0])??void 0};m(r.id,I)}}):void 0,cancelText:s("common.cancel"),onCancel:f,modalRender:t=>e.jsx(a,{form:d,encType:l?"multipart/form-data":void 0,initialValues:r,onFinish:l?void 0:n=>{m(r.id,n)},labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",children:t}),children:l?e.jsx("input",{type:"file",name:"thumbnail",ref:o}):e.jsxs(e.Fragment,{children:[e.jsx(a.Item,{label:s("app.fields.name"),name:"name",rules:[{required:!0}],children:e.jsx(c,{})}),r.id&&e.jsx(a.Item,{label:s("app.fields.state"),name:"state",children:e.jsx(h,{showSearch:!0,options:y})}),e.jsx(a.Item,{label:s("app.fields.description"),name:"description",required:!0,rules:[{required:!0}],children:e.jsx(c.TextArea,{})}),e.jsx(a.Item,{label:s("app.fields.programSubscriptionType"),name:"programSubscriptionType",children:e.jsx(h,{showSearch:!0,options:v})}),e.jsx(a.Item,{label:s("app.fields.subscriptionFormUrl"),name:"subscriptionFormUrl",children:e.jsx(c,{})}),e.jsx(a.Item,{label:s("app.fields.start"),name:"start",...i,children:e.jsx(p,{style:{width:"100%"}})}),e.jsx(a.Item,{label:s("app.fields.end"),name:"end",...i,children:e.jsx(p,{style:{width:"100%"}})}),e.jsx(a.Item,{label:s("app.fields.registration start"),name:"registrationStart",...i,children:e.jsx(p,{style:{width:"100%"}})}),e.jsx(a.Item,{label:s("app.fields.registration end"),name:"registrationEnd",...i,children:e.jsx(p,{style:{width:"100%"}})})]})})}export{R as default};
