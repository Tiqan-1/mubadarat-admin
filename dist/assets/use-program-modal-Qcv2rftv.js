import{ac as c,r as f,at as s}from"./index-DN_LE4ff.js";import{p as i}from"./programs-BpIXPJfC.js";const r={name:"",description:"",start:"",end:"",registrationStart:"",registrationEnd:""};function k(l,m){const n=c({mutationFn:t=>t.id!==void 0?i.update(t.id,t.data):i.create(t.data),onSuccess:()=>{o(t=>({...t,show:!1,okDisabled:!1})),m()},onError(t,a,e){console.log("onError",t,a,e),o(d=>({...d,okDisabled:!1}))}}),[u,o]=f.useState({formValue:{...r},title:s("common.create"),forUpload:l,show:!1,okDisabled:!1,onOk:(t,a)=>{n.mutate({id:t,data:a}),o(e=>({...e,okDisabled:!0}))},onCancel:()=>{o(t=>({...t,show:!1}))}});return{modalProps:u,setModalProps:o,onCreate:t=>{o(a=>({...a,show:!0,...r,title:s("common.create"),formValue:{...r,parentId:(t==null?void 0:t.id)??""}}))},onEdit:(t,a=void 0)=>{o(e=>({...e,show:!0,title:a??s("common.edit"),formValue:t}))},mutation:n}}export{k as useProgramModal};
