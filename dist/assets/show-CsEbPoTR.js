import{r as i,d as Sn,_ as le,e as Je,f as Ze,g as I,w as Nn,h as oe,i as yn,k as xn,l as ge,n as G,o as en,p as In,q as $n,s as wn,x as we,y as En,z as Rn,F as Cn,A as jn,C as On,E as Dn,G as Bn,H as Ee,J as nn,K as An,O as Mn,P as _n,Q as Fn,R as O,U as Vn,V as kn,W as Tn,X as Pn,Y as Gn,Z as Ln,$ as Wn,a0 as Hn,a1 as zn,a2 as Un,a3 as Kn,a4 as qn,a5 as Te,a6 as Pe,a7 as Xn,a8 as Yn,a9 as Qn,u as Jn,aa as ie,ab as Zn,a as et,b as Ge,ac as nt,j as p,ad as tt,S as Le,T as rt,D as at,ae as it,af as We,c as st,I as He,ag as ot,B as lt,ah as ut,ai as dt}from"./index-DN_LE4ff.js";import{r as ze}from"./assignment-responses-BzpN5L_n.js";import{C as se}from"./index-DjR-mQpu.js";var ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},ft=function(n,t){return i.createElement(Sn,le({},n,{ref:t,icon:ct}))},mt=i.forwardRef(ft);function Re(){return typeof BigInt=="function"}function tn(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function q(e){var n=e.trim(),t=n.startsWith("-");t&&(n=n.slice(1)),n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),n.startsWith(".")&&(n="0".concat(n));var r=n||"0",a=r.split("."),s=a[0]||"0",v=a[1]||"0";s==="0"&&v==="0"&&(t=!1);var d=t?"-":"";return{negative:t,negativeStr:d,trimStr:r,integerStr:s,decimalStr:v,fullStr:"".concat(d).concat(r)}}function Ce(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function K(e){var n=String(e);if(Ce(e)){var t=Number(n.slice(n.indexOf("e-")+2)),r=n.match(/\.(\d+)/);return r!=null&&r[1]&&(t+=r[1].length),t}return n.includes(".")&&je(n)?n.length-n.indexOf(".")-1:0}function pe(e){var n=String(e);if(Ce(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Re()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Re()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(K(n))}return q(n).fullStr}function je(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var gt=(function(){function e(n){if(Ze(this,e),I(this,"origin",""),I(this,"negative",void 0),I(this,"integer",void 0),I(this,"decimal",void 0),I(this,"decimalLen",void 0),I(this,"empty",void 0),I(this,"nan",void 0),tn(n)){this.empty=!0;return}if(this.origin=String(n),n==="-"||Number.isNaN(n)){this.nan=!0;return}var t=n;if(Ce(t)&&(t=Number(t)),t=typeof t=="string"?t:pe(t),je(t)){var r=q(t);this.negative=r.negative;var a=r.trimStr.split(".");this.integer=BigInt(a[0]);var s=a[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return Je(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(r)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,r,a){var s=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),v=this.alignDecimal(s),d=t.alignDecimal(s),h=r(v,d).toString(),g=a(s),c=q(h),y=c.negativeStr,o=c.trimStr,S="".concat(y).concat(o.padStart(g+1,"0"));return new e("".concat(S.slice(0,-g),".").concat(S.slice(-g)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var r=new e(t);return r.isInvalidate()?this:this.cal(r,function(a,s){return a+s},function(a){return a})}},{key:"multi",value:function(t){var r=new e(t);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(a,s){return a*s},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(t==null?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":q("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e})(),pt=(function(){function e(n){if(Ze(this,e),I(this,"origin",""),I(this,"number",void 0),I(this,"empty",void 0),tn(n)){this.empty=!0;return}this.origin=String(n),this.number=Number(n)}return Je(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var r=Number(t);if(Number.isNaN(r))return this;var a=this.number+r;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(K(this.number),K(r));return new e(a.toFixed(s))}},{key:"multi",value:function(t){var r=Number(t);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var a=this.number*r;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(K(this.number),K(r));return new e(a.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(t==null?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":pe(this.number):this.origin}}]),e})();function M(e){return Re()?new gt(e):new pt(e)}function me(e,n,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var a=q(e),s=a.negativeStr,v=a.integerStr,d=a.decimalStr,h="".concat(n).concat(d),g="".concat(s).concat(v);if(t>=0){var c=Number(d[t]);if(c>=5&&!r){var y=M(e).add("".concat(s,"0.").concat("0".repeat(t)).concat(10-c));return me(y.toString(),n,t,r)}return t===0?g:"".concat(g).concat(n).concat(d.padEnd(t,"0").slice(0,t))}return h===".0"?g:"".concat(g).concat(h)}function vt(e,n){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,a){if(n[a])return n[a];var s=r[a];return typeof s=="function"?s.bind(r):s}}):e}function ht(e,n){var t=i.useRef(null);function r(){try{var s=e.selectionStart,v=e.selectionEnd,d=e.value,h=d.substring(0,s),g=d.substring(v);t.current={start:s,end:v,value:d,beforeTxt:h,afterTxt:g}}catch{}}function a(){if(e&&t.current&&n)try{var s=e.value,v=t.current,d=v.beforeTxt,h=v.afterTxt,g=v.start,c=s.length;if(s.startsWith(d))c=d.length;else if(s.endsWith(h))c=s.length-t.current.afterTxt.length;else{var y=d[g-1],o=s.indexOf(y,g-1);o!==-1&&(c=o+1)}e.setSelectionRange(c,c)}catch(S){Nn(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(S.message))}}return[r,a]}var bt=function(){var n=i.useState(!1),t=oe(n,2),r=t[0],a=t[1];return yn(function(){a(xn())},[]),r},St=200,Nt=600;function yt(e){var n=e.prefixCls,t=e.upNode,r=e.downNode,a=e.upDisabled,s=e.downDisabled,v=e.onStep,d=i.useRef(),h=i.useRef([]),g=i.useRef();g.current=v;var c=function(){clearTimeout(d.current)},y=function(j,m){j.preventDefault(),c(),g.current(m);function D(){g.current(m),d.current=setTimeout(D,St)}d.current=setTimeout(D,Nt)};i.useEffect(function(){return function(){c(),h.current.forEach(function(E){return ge.cancel(E)})}},[]);var o=bt();if(o)return null;var S="".concat(n,"-handler"),C=G(S,"".concat(S,"-up"),I({},"".concat(S,"-up-disabled"),a)),$=G(S,"".concat(S,"-down"),I({},"".concat(S,"-down-disabled"),s)),w=function(){return h.current.push(ge(c))},x={unselectable:"on",role:"button",onMouseUp:w,onMouseLeave:w};return i.createElement("div",{className:"".concat(S,"-wrap")},i.createElement("span",le({},x,{onMouseDown:function(j){y(j,!0)},"aria-label":"Increase Value","aria-disabled":a,className:C}),t||i.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),i.createElement("span",le({},x,{onMouseDown:function(j){y(j,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:$}),r||i.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}function Ue(e){var n=typeof e=="number"?pe(e):q(e).fullStr,t=n.includes(".");return t?q(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const xt=(function(){var e=i.useRef(0),n=function(){ge.cancel(e.current)};return i.useEffect(function(){return n},[]),function(t){n(),e.current=ge(function(){t()})}});var It=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],$t=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Ke=function(n,t){return n||t.isEmpty()?t.toString():t.toNumber()},qe=function(n){var t=M(n);return t.isInvalidate()?null:t},wt=i.forwardRef(function(e,n){var t=e.prefixCls,r=e.className,a=e.style,s=e.min,v=e.max,d=e.step,h=d===void 0?1:d,g=e.defaultValue,c=e.value,y=e.disabled,o=e.readOnly,S=e.upHandler,C=e.downHandler,$=e.keyboard,w=e.changeOnWheel,x=w===void 0?!1:w,E=e.controls,j=E===void 0?!0:E;e.classNames;var m=e.stringMode,D=e.parser,_=e.formatter,R=e.precision,B=e.decimalSeparator,H=e.onChange,F=e.onInput,k=e.onPressEnter,T=e.onStep,P=e.changeOnBlur,ee=P===void 0?!0:P,ve=e.domRef,he=en(e,It),ue="".concat(t,"-input"),L=i.useRef(null),W=i.useState(!1),de=oe(W,2),X=de[0],ne=de[1],A=i.useRef(!1),z=i.useRef(!1),Y=i.useRef(!1),be=i.useState(function(){return M(c??g)}),ce=oe(be,2),N=ce[0],Q=ce[1];function sn(u){c===void 0&&Q(u)}var Se=i.useCallback(function(u,l){if(!l)return R>=0?R:Math.max(K(u),K(h))},[R,h]),Ne=i.useCallback(function(u){var l=String(u);if(D)return D(l);var b=l;return B&&(b=b.replace(B,".")),b.replace(/[^\w.-]+/g,"")},[D,B]),ye=i.useRef(""),Oe=i.useCallback(function(u,l){if(_)return _(u,{userTyping:l,input:String(ye.current)});var b=typeof u=="number"?pe(u):u;if(!l){var f=Se(b,l);if(je(b)&&(B||f>=0)){var V=B||".";b=me(b,V,f)}}return b},[_,Se,B]),on=i.useState(function(){var u=g??c;return N.isInvalidate()&&["string","number"].includes(wn(u))?Number.isNaN(u)?"":u:Oe(N.toString(),!1)}),De=oe(on,2),te=De[0],Be=De[1];ye.current=te;function re(u,l){Be(Oe(u.isInvalidate()?u.toString(!1):u.toString(!l),l))}var J=i.useMemo(function(){return qe(v)},[v,R]),Z=i.useMemo(function(){return qe(s)},[s,R]),Ae=i.useMemo(function(){return!J||!N||N.isInvalidate()?!1:J.lessEquals(N)},[J,N]),Me=i.useMemo(function(){return!Z||!N||N.isInvalidate()?!1:N.lessEquals(Z)},[Z,N]),ln=ht(L.current,X),_e=oe(ln,2),un=_e[0],dn=_e[1],Fe=function(l){return J&&!l.lessEquals(J)?J:Z&&!Z.lessEquals(l)?Z:null},xe=function(l){return!Fe(l)},fe=function(l,b){var f=l,V=xe(f)||f.isEmpty();if(!f.isEmpty()&&!b&&(f=Fe(f)||f,V=!0),!o&&!y&&V){var ae=f.toString(),$e=Se(ae,b);return $e>=0&&(f=M(me(ae,".",$e)),xe(f)||(f=M(me(ae,".",$e,!0)))),f.equals(N)||(sn(f),H==null||H(f.isEmpty()?null:Ke(m,f)),c===void 0&&re(f,b)),f}return N},cn=xt(),Ve=function u(l){if(un(),ye.current=l,Be(l),!z.current){var b=Ne(l),f=M(b);f.isNaN()||fe(f,!0)}F==null||F(l),cn(function(){var V=l;D||(V=l.replace(/。/g,".")),V!==l&&u(V)})},fn=function(){z.current=!0},mn=function(){z.current=!1,Ve(L.current.value)},gn=function(l){Ve(l.target.value)},Ie=function(l){var b;if(!(l&&Ae||!l&&Me)){A.current=!1;var f=M(Y.current?Ue(h):h);l||(f=f.negate());var V=(N||M(0)).add(f.toString()),ae=fe(V,!1);T==null||T(Ke(m,ae),{offset:Y.current?Ue(h):h,type:l?"up":"down"}),(b=L.current)===null||b===void 0||b.focus()}},ke=function(l){var b=M(Ne(te)),f;b.isNaN()?f=fe(N,l):f=fe(b,l),c!==void 0?re(N,!1):f.isNaN()||re(f,!1)},pn=function(){A.current=!0},vn=function(l){var b=l.key,f=l.shiftKey;A.current=!0,Y.current=f,b==="Enter"&&(z.current||(A.current=!1),ke(!1),k==null||k(l)),$!==!1&&!z.current&&["Up","ArrowUp","Down","ArrowDown"].includes(b)&&(Ie(b==="Up"||b==="ArrowUp"),l.preventDefault())},hn=function(){A.current=!1,Y.current=!1};i.useEffect(function(){if(x&&X){var u=function(f){Ie(f.deltaY<0),f.preventDefault()},l=L.current;if(l)return l.addEventListener("wheel",u,{passive:!1}),function(){return l.removeEventListener("wheel",u)}}});var bn=function(){ee&&ke(!1),ne(!1),A.current=!1};return we(function(){N.isInvalidate()||re(N,!1)},[R,_]),we(function(){var u=M(c);Q(u);var l=M(Ne(te));(!u.equals(l)||!A.current||_)&&re(u,A.current)},[c]),we(function(){_&&dn()},[te]),i.createElement("div",{ref:ve,className:G(t,r,I(I(I(I(I({},"".concat(t,"-focused"),X),"".concat(t,"-disabled"),y),"".concat(t,"-readonly"),o),"".concat(t,"-not-a-number"),N.isNaN()),"".concat(t,"-out-of-range"),!N.isInvalidate()&&!xe(N))),style:a,onFocus:function(){ne(!0)},onBlur:bn,onKeyDown:vn,onKeyUp:hn,onCompositionStart:fn,onCompositionEnd:mn,onBeforeInput:pn},j&&i.createElement(yt,{prefixCls:t,upNode:S,downNode:C,upDisabled:Ae,downDisabled:Me,onStep:Ie}),i.createElement("div",{className:"".concat(ue,"-wrap")},i.createElement("input",le({autoComplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":v,"aria-valuenow":N.isInvalidate()?null:N.toString(),step:h},he,{ref:En(L,n),className:ue,value:te,onChange:gn,disabled:y,readOnly:o}))))}),Et=i.forwardRef(function(e,n){var t=e.disabled,r=e.style,a=e.prefixCls,s=a===void 0?"rc-input-number":a,v=e.value,d=e.prefix,h=e.suffix,g=e.addonBefore,c=e.addonAfter,y=e.className,o=e.classNames,S=en(e,$t),C=i.useRef(null),$=i.useRef(null),w=i.useRef(null),x=function(j){w.current&&$n(w.current,j)};return i.useImperativeHandle(n,function(){return vt(w.current,{focus:x,nativeElement:C.current.nativeElement||$.current})}),i.createElement(In,{className:y,triggerFocus:x,prefixCls:s,value:v,disabled:t,style:r,prefix:d,suffix:h,addonAfter:c,addonBefore:g,classNames:o,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:C},i.createElement(wt,le({prefixCls:s,disabled:t,ref:w,domRef:$,className:o==null?void 0:o.input},S)))});const Rt=e=>{var n;const t=(n=e.handleVisible)!==null&&n!==void 0?n:"auto",r=e.controlHeightSM-e.lineWidth*2;return Object.assign(Object.assign({},Rn(e)),{controlWidth:90,handleWidth:r,handleFontSize:e.fontSize/2,handleVisible:t,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new Cn(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:t===!0?1:0,handleVisibleWidth:t===!0?r:0})},Xe=({componentCls:e,borderRadiusSM:n,borderRadiusLG:t},r)=>{const a=r==="lg"?t:n;return{[`&-${r}`]:{[`${e}-handler-wrap`]:{borderStartEndRadius:a,borderEndEndRadius:a},[`${e}-handler-up`]:{borderStartEndRadius:a},[`${e}-handler-down`]:{borderEndEndRadius:a}}}},Ct=e=>{const{componentCls:n,lineWidth:t,lineType:r,borderRadius:a,inputFontSizeSM:s,inputFontSizeLG:v,controlHeightLG:d,controlHeightSM:h,colorError:g,paddingInlineSM:c,paddingBlockSM:y,paddingBlockLG:o,paddingInlineLG:S,colorIcon:C,motionDurationMid:$,handleHoverColor:w,handleOpacity:x,paddingInline:E,paddingBlock:j,handleBg:m,handleActiveBg:D,colorTextDisabled:_,borderRadiusSM:R,borderRadiusLG:B,controlWidth:H,handleBorderColor:F,filledHandleBg:k,lineHeightLG:T,calc:P}=e;return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ee(e)),nn(e)),{display:"inline-block",width:H,margin:0,padding:0,borderRadius:a}),An(e,{[`${n}-handler-wrap`]:{background:m,[`${n}-handler-down`]:{borderBlockStart:`${O(t)} ${r} ${F}`}}})),Mn(e,{[`${n}-handler-wrap`]:{background:k,[`${n}-handler-down`]:{borderBlockStart:`${O(t)} ${r} ${F}`}},"&:focus-within":{[`${n}-handler-wrap`]:{background:m}}})),_n(e,{[`${n}-handler-wrap`]:{background:m,[`${n}-handler-down`]:{borderBlockStart:`${O(t)} ${r} ${F}`}}})),Fn(e)),{"&-rtl":{direction:"rtl",[`${n}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:v,lineHeight:T,borderRadius:B,[`input${n}-input`]:{height:P(d).sub(P(t).mul(2)).equal(),padding:`${O(o)} ${O(S)}`}},"&-sm":{padding:0,fontSize:s,borderRadius:R,[`input${n}-input`]:{height:P(h).sub(P(t).mul(2)).equal(),padding:`${O(y)} ${O(c)}`}},"&-out-of-range":{[`${n}-input-wrap`]:{input:{color:g}}},"&-group":Object.assign(Object.assign(Object.assign({},Ee(e)),kn(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${n}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${n}-group-addon`]:{borderRadius:B,fontSize:e.fontSizeLG}},"&-sm":{[`${n}-group-addon`]:{borderRadius:R}}},Tn(e)),Pn(e)),{[`&:not(${n}-compact-first-item):not(${n}-compact-last-item)${n}-compact-item`]:{[`${n}, ${n}-group-addon`]:{borderRadius:0}},[`&:not(${n}-compact-last-item)${n}-compact-first-item`]:{[`${n}, ${n}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${n}-compact-first-item)${n}-compact-last-item`]:{[`${n}, ${n}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${n}-input`]:{cursor:"not-allowed"},[n]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Ee(e)),{width:"100%",padding:`${O(j)} ${O(E)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:a,outline:0,transition:`all ${$} linear`,appearance:"textfield",fontSize:"inherit"}),Vn(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${n}-handler-wrap, &-focused ${n}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[n]:Object.assign(Object.assign(Object.assign({[`${n}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleVisibleWidth,opacity:x,height:"100%",borderStartStartRadius:0,borderStartEndRadius:a,borderEndEndRadius:a,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${$}`,overflow:"hidden",[`${n}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${n}-handler-up-inner,
              ${n}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${n}-handler`]:{height:"50%",overflow:"hidden",color:C,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${O(t)} ${r} ${F}`,transition:`all ${$} linear`,"&:active":{background:D},"&:hover":{height:"60%",[`
              ${n}-handler-up-inner,
              ${n}-handler-down-inner
            `]:{color:w}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},Gn()),{color:C,transition:`all ${$} linear`,userSelect:"none"})},[`${n}-handler-up`]:{borderStartEndRadius:a},[`${n}-handler-down`]:{borderEndEndRadius:a}},Xe(e,"lg")),Xe(e,"sm")),{"&-disabled, &-readonly":{[`${n}-handler-wrap`]:{display:"none"},[`${n}-input`]:{color:"inherit"}},[`
          ${n}-handler-up-disabled,
          ${n}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${n}-handler-up-disabled:hover &-handler-up-inner,
          ${n}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:_}})}]},jt=e=>{const{componentCls:n,paddingBlock:t,paddingInline:r,inputAffixPadding:a,controlWidth:s,borderRadiusLG:v,borderRadiusSM:d,paddingInlineLG:h,paddingInlineSM:g,paddingBlockLG:c,paddingBlockSM:y,motionDurationMid:o}=e;return{[`${n}-affix-wrapper`]:Object.assign(Object.assign({[`input${n}-input`]:{padding:`${O(t)} 0`}},nn(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:s,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:v,paddingInlineStart:h,[`input${n}-input`]:{padding:`${O(c)} 0`}},"&-sm":{borderRadius:d,paddingInlineStart:g,[`input${n}-input`]:{padding:`${O(y)} 0`}},[`&:not(${n}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${n}-disabled`]:{background:"transparent"},[`> div${n}`]:{width:"100%",border:"none",outline:"none",[`&${n}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${n}-handler-wrap`]:{zIndex:2},[n]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:a},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:a,transition:`margin ${o}`}},[`&:hover ${n}-handler-wrap, &-focused ${n}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${n}-affix-wrapper-without-controls):hover ${n}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}}),[`${n}-underlined`]:{borderRadius:0}}},Ot=jn("InputNumber",e=>{const n=On(e,Dn(e));return[Ct(n),jt(n),Bn(n)]},Rt,{unitless:{handleOpacity:!0},resetFont:!1});var Dt=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t};const rn=i.forwardRef((e,n)=>{const{getPrefixCls:t,direction:r}=i.useContext(Ln),a=i.useRef(null);i.useImperativeHandle(n,()=>a.current);const{className:s,rootClassName:v,size:d,disabled:h,prefixCls:g,addonBefore:c,addonAfter:y,prefix:o,suffix:S,bordered:C,readOnly:$,status:w,controls:x,variant:E}=e,j=Dt(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),m=t("input-number",g),D=Wn(m),[_,R,B]=Ot(m,D),{compactSize:H,compactItemClassnames:F}=Hn(m,r);let k=i.createElement(mt,{className:`${m}-handler-up-inner`}),T=i.createElement(Xn,{className:`${m}-handler-down-inner`});const P=typeof x=="boolean"?x:void 0;typeof x=="object"&&(k=typeof x.upIcon>"u"?k:i.createElement("span",{className:`${m}-handler-up-inner`},x.upIcon),T=typeof x.downIcon>"u"?T:i.createElement("span",{className:`${m}-handler-down-inner`},x.downIcon));const{hasFeedback:ee,status:ve,isFormItemInput:he,feedbackIcon:ue}=i.useContext(zn),L=Yn(ve,w),W=Un(N=>{var Q;return(Q=d??H)!==null&&Q!==void 0?Q:N}),de=i.useContext(Kn),X=h??de,[ne,A]=qn("inputNumber",E,C),z=ee&&i.createElement(i.Fragment,null,ue),Y=G({[`${m}-lg`]:W==="large",[`${m}-sm`]:W==="small",[`${m}-rtl`]:r==="rtl",[`${m}-in-form-item`]:he},R),be=`${m}-group`,ce=i.createElement(Et,Object.assign({ref:a,disabled:X,className:G(B,D,s,v,F),upHandler:k,downHandler:T,prefixCls:m,readOnly:$,controls:P,prefix:o,suffix:z||S,addonBefore:c&&i.createElement(Pe,{form:!0,space:!0},c),addonAfter:y&&i.createElement(Pe,{form:!0,space:!0},y),classNames:{input:Y,variant:G({[`${m}-${ne}`]:A},Te(m,L,ee)),affixWrapper:G({[`${m}-affix-wrapper-sm`]:W==="small",[`${m}-affix-wrapper-lg`]:W==="large",[`${m}-affix-wrapper-rtl`]:r==="rtl",[`${m}-affix-wrapper-without-controls`]:x===!1||X||$},R),wrapper:G({[`${be}-rtl`]:r==="rtl"},R),groupWrapper:G({[`${m}-group-wrapper-sm`]:W==="small",[`${m}-group-wrapper-lg`]:W==="large",[`${m}-group-wrapper-rtl`]:r==="rtl",[`${m}-group-wrapper-${ne}`]:A},Te(`${m}-group-wrapper`,L,ee),R)}},j));return _(ce)}),an=rn,Bt=e=>i.createElement(Qn,{theme:{components:{InputNumber:{handleVisible:!0}}}},i.createElement(rn,Object.assign({},e)));an._InternalPanelDoNotUseOrYouWillBeFired=Bt;const{Title:At,Text:U,Paragraph:Ye}=rt;function kt(){const{t:e}=Jn(),[n]=ie.useForm(),t=Zn(),{responseId:r}=et(),{data:a,isLoading:s}=Ge({queryKey:["assignment-response",r],queryFn:()=>ze.show(r),enabled:!!r}),v=a==null?void 0:a.assignmentId,{data:d,isLoading:h}=Ge({queryKey:["assignment-details",v],queryFn:()=>dt.show(v),enabled:!!v}),g=nt({mutationFn:o=>ze.grade(r,o),onSuccess:()=>{ut.success(e("app.assignmentResponses.grade-saved-successfully")),t(`/assignments/${v}/responses`)},onError:o=>{}}),c=o=>{const{notes:S,...C}=o;g.mutate({scores:C,notes:S})};if(s||h)return p.jsx(se,{children:p.jsx(tt,{active:!0})});if(!a||!d)return p.jsx(se,{children:e("common.no-data")});const y=d.form.slides.flatMap(o=>o.elements).filter(o=>o.question);return p.jsxs(Le,{direction:"vertical",size:"large",className:"w-full",children:[p.jsxs(se,{children:[p.jsxs(At,{level:4,children:[e("app.assignmentResponses.grading-submission-for")," ",a.student.name]}),p.jsx(U,{type:"secondary",children:d.title})]}),p.jsxs(ie,{form:n,onFinish:c,layout:"vertical",children:[y.map((o,S)=>p.jsxs(se,{title:`${e("app.fields.question")} ${S+1}`,style:{marginBottom:16},children:[p.jsx(Ye,{strong:!0,children:o.question}),a.individualScores[o.id]!==o.score&&o.answer&&p.jsxs("div",{style:{width:"fit-content",background:"#f6ffed",border:"1px solid #b7eb8f",padding:"8px",borderRadius:"4px",marginBottom:"12px"},children:[p.jsxs(U,{strong:!0,type:"success",children:[e("app.assignmentResponses.correct-answer"),": "]}),p.jsx(U,{type:"success",children:Qe(o.answer)})]}),p.jsx(at,{style:{margin:"12px 0"}}),p.jsxs(it,{gutter:16,align:"middle",children:[p.jsxs(We,{span:12,children:[p.jsxs(U,{strong:!0,children:[e("app.assignmentResponses.student-answer"),":"]}),p.jsx(Ye,{className:a.individualScores[o.id]>0?"":"line-through",children:Qe(a.replies[o.id])||p.jsx(U,{type:"secondary",children:"No answer"})})]}),p.jsx(We,{span:12,children:Mt(o.type)?p.jsxs(Le,{direction:"vertical",children:[p.jsxs(U,{strong:!0,children:[e("app.assignmentResponses.auto-grade"),":"]}),p.jsxs(st,{color:a.individualScores[o.id]>0?"green":"red",icon:a.individualScores[o.id]>0?p.jsx(He,{icon:"solar:check-circle-bold"}):p.jsx(He,{icon:"solar:close-circle-bold"}),children:[a.individualScores[o.id]||0," / ",o.score]})]}):p.jsx(ie.Item,{label:p.jsxs(U,{strong:!0,children:[e("app.assignmentResponses.enter-score"),":"]}),name:o.id,initialValue:a.individualScores[o.id]||0,rules:[{type:"number",min:0,max:o.score,message:e("app.assignmentResponses.score-out-of-range",{max:o.score})}],children:p.jsx(an,{min:0,max:o.score,addonAfter:`/ ${o.score}`})})})]})]},o.id)),p.jsxs(se,{title:e("app.assignmentResponses.final-notes-and-submission"),children:[p.jsx(ie.Item,{label:e("app.fields.notes"),name:"notes",initialValue:a.notes,children:p.jsx(ot.TextArea,{rows:4})}),p.jsx(ie.Item,{children:p.jsx(lt,{type:"primary",htmlType:"submit",loading:g.isPending,children:e("app.assignmentResponses.save-final-grade")})})]})]})]})}function Mt(e){return["choice","select","number","true-false"].includes(e)}function Qe(e){return e==null?"-":Array.isArray(e)?e.join(", "):String(e)}export{kt as default};
