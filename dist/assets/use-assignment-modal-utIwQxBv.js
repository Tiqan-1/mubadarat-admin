import{an as c,ac as p,r as g,ai as r,at as o,au as f,av as v}from"./index-XWZJOGTG.js";const s={programId:"",levelId:"",subjectId:"",title:"",state:v.draft,type:f.exam,passingScore:10,durationInMinutes:60,availableFrom:"",availableUntil:""};function k(u){const[i]=c();s.levelId=i.get("levelId")??void 0,s.subjectId=i.get("subjectId")??void 0;const l=p({mutationFn:t=>(console.log("mutationFn",t),t.id!==void 0?r.update(t.id,t.data):r.create(t.data)),onSuccess:()=>{a(t=>({...t,show:!1,okDisabled:!1})),u()},onError(t,e,n){console.log("onError",t,e,n),a(m=>({...m,okDisabled:!1}))}}),[d,a]=g.useState({initialValues:{...s},title:o("common.create"),show:!1,okDisabled:!1,onOk:(t,e)=>{l.mutate({id:t,data:e}),a(n=>({...n,okDisabled:!0}))},onCancel:()=>{a(t=>({...t,show:!1}))}});return{modalProps:d,setModalProps:a,onCreate:t=>{a(e=>({...e,show:!0,...s,title:o("common.create"),initialValues:{...s,parentId:(t==null?void 0:t.id)??""}}))},onEdit:t=>{a(e=>({...e,show:!0,title:o("common.edit"),initialValues:t}))},mutation:l}}export{k as useAssignmentModal};
